name: 'Dependency Review'
description: 'Review vulnerabilities for introduced dependencies'
runs:
  using: "composite"
  steps:
    - uses: actions/dependency-review-action@v4
      env:
        COMMIT_SHA: ${{ github.event.pull_request.head.sha != '' && github.event.pull_request.head.sha || github.sha }}
      with:
        retry-on-snapshot-warnings: true
        show-openssf-scorecard: true
        warn-on-openssf-scorecard-level: 3
        base-ref: master
        head-ref: ${{ env.COMMIT_SHA }}
